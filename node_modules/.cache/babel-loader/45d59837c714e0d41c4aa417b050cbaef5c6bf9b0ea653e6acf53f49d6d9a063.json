{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Messages(){const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const socket=new WebSocket('ws://localhost:3000');const navigate=useNavigate();useEffect(()=>{socket.onmessage=event=>{const receivedMessage=event.data;setMessages([...messages,receivedMessage]);};},[messages]);const sendMessage=()=>{if(socket&&socket.readyState===WebSocket.OPEN){socket.send(input);setInput('');}else{console.error('WebSocket is not open. Message not sent.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-app\",children:[\"Messages\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),children:\"Go to Home\"}),/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{children:message},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]})]});}export default Messages;","map":{"version":3,"names":["useNavigate","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Messages","messages","setMessages","input","setInput","socket","WebSocket","navigate","onmessage","event","receivedMessage","data","sendMessage","readyState","OPEN","send","console","error","className","children","onClick","map","message","index","type","value","onChange","e","target"],"sources":["/Users/luke/Desktop/spr24/wp2/laundry-coms/src/pages/Messages.jsx"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\nimport React, { useState, useEffect } from 'react';\n\nfunction Messages() {\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState('');\n    const socket = new WebSocket('ws://localhost:3000');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        socket.onmessage = (event) => {\n            const receivedMessage = event.data;\n            setMessages([...messages, receivedMessage]);\n        };\n    }, [messages]);\n\n    const sendMessage = () => {\n        if (socket && socket.readyState === WebSocket.OPEN) {\n            socket.send(input);\n            setInput('');\n        } else {\n            console.error('WebSocket is not open. Message not sent.');\n        }\n    };\n\n\n    return (\n        <div className=\"chat-app\">\n            Messages\n            <button onClick={() => navigate(\"/\")}>Go to Home</button>\n            <div className=\"messages\">\n                {messages.map((message, index) => (\n                    <div key={index}>{message}</div>\n                ))}\n            </div>\n            <div className=\"input-container\">\n                <input\n                    type=\"text\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                />\n                <button onClick={sendMessage}>Send</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Messages;\n"],"mappings":"AAAA,OAAQA,WAAW,KAAO,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAW,MAAM,CAAG,GAAI,CAAAC,SAAS,CAAC,qBAAqB,CAAC,CACnD,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BG,SAAS,CAAC,IAAM,CACZU,MAAM,CAACG,SAAS,CAAIC,KAAK,EAAK,CAC1B,KAAM,CAAAC,eAAe,CAAGD,KAAK,CAACE,IAAI,CAClCT,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAES,eAAe,CAAC,CAAC,CAC/C,CAAC,CACL,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAW,WAAW,CAAGA,CAAA,GAAM,CACtB,GAAIP,MAAM,EAAIA,MAAM,CAACQ,UAAU,GAAKP,SAAS,CAACQ,IAAI,CAAE,CAChDT,MAAM,CAACU,IAAI,CAACZ,KAAK,CAAC,CAClBC,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAC,IAAM,CACHY,OAAO,CAACC,KAAK,CAAC,0CAA0C,CAAC,CAC7D,CACJ,CAAC,CAGD,mBACIlB,KAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,EAAC,UAEtB,cAAAtB,IAAA,WAAQuB,OAAO,CAAEA,CAAA,GAAMb,QAAQ,CAAC,GAAG,CAAE,CAAAY,QAAA,CAAC,YAAU,CAAQ,CAAC,cACzDtB,IAAA,QAAKqB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACpBlB,QAAQ,CAACoB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBACzB1B,IAAA,QAAAsB,QAAA,CAAkBG,OAAO,EAAfC,KAAqB,CAClC,CAAC,CACD,CAAC,cACNxB,KAAA,QAAKmB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BtB,IAAA,UACI2B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEtB,KAAM,CACbuB,QAAQ,CAAGC,CAAC,EAAKvB,QAAQ,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7C,CAAC,cACF5B,IAAA,WAAQuB,OAAO,CAAER,WAAY,CAAAO,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC1C,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAnB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}